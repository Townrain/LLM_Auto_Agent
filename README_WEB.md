# LLM Auto Agent Web 界面

基于 `Townrain/LLM_Auto_Agent` 项目的现代化Web交互界面。

## 🎯 功能特性

### ✅ 已实现功能
- **用户API配置** - 自行添加DeepSeek API Key
- **数据库管理** - 可选择是否使用数据库功能
- **知识库导入** - 支持多种文件格式上传
- **对话管理** - 创建新对话、查看历史记录
- **系统命令确认** - 危险命令弹窗确认机制
- **现代化界面** - 类似ChatGPT的聊天体验

### 🔧 最新修复
- **✅ 对话删除功能** - 支持删除单个对话和清空所有对话
- **✅ AI回复显示** - 正确显示Agent的真实响应
- **✅ 错误处理** - 完善的错误提示和用户引导

## 🚀 快速开始

### 1. 安装依赖
```bash
# 安装核心依赖
pip install -r requirements.txt

# 安装Web应用依赖
pip install -r web_requirements.txt
```

### 2. 启动Web应用
```bash
python web_app.py
```

### 3. 访问界面
打开浏览器访问：`http://127.0.0.1:5000`

## 📋 使用说明

### 首次使用
1. 点击左下角"设置"按钮
2. 配置您的DeepSeek API Key
3. 选择是否启用数据库功能
4. 保存设置

### 开始对话
1. 在输入框中输入您的问题
2. 按Enter发送消息
3. 查看AI的实时回复

### 管理对话
- **创建新对话** - 点击"+ 新对话"按钮
- **切换对话** - 点击侧边栏的对话标题
- **删除对话** - 点击对话旁边的🗑️按钮
- **清空所有** - 点击"🗑️ 清空所有对话"

### 导入知识库
1. 点击"📚 导入知识库"按钮
2. 选择支持的文件格式：TXT, PDF, DOC, DOCX, Markdown, JSON
3. 等待上传完成

## 🛠️ 技术架构

### 后端技术
- **Flask** - 轻量级Web框架
- **ReactAgent** - 核心AI代理引擎
- **SQLite** - Web会话管理

### 前端技术
- **原生JavaScript** - 无框架依赖
- **现代CSS** - 响应式设计
- **LocalStorage** - 本地数据持久化

### 集成特性
- **无缝集成** - 直接使用现有Agent模块
- **实时响应** - 支持多步推理过程显示
- **安全机制** - 系统命令确认和错误处理

## 🔧 故障排除

### 常见问题

#### 1. Agent未初始化
**症状**: 提示"请先配置API Key"
**解决**: 点击设置按钮，正确配置API Key

#### 2. AI回复显示不正确
**症状**: 只显示"请求已接收，正在处理..."
**解决**: 确保Agent模块正确导入，检查API Key有效性

#### 3. 文件上传失败
**症状**: 上传文件时出现错误
**解决**: 检查文件格式是否支持，文件大小是否过大

#### 4. 对话无法删除
**症状**: 删除按钮无效
**解决**: 确保至少保留一个对话，刷新页面重试

### 调试模式
如需查看详细日志，可以启用调试模式：
```python
# 在web_app.py中修改
app.run(debug=True)
```

## 📁 文件结构

```
LLM_Auto_Agent/
├── web_app.py              # Flask后端服务器
├── templates/
│   └── index.html          # 主界面HTML模板
├── static/
│   ├── css/
│   │   └── style.css       # 现代化CSS样式
│   └── js/
│       └── app.js          # 前端交互逻辑
├── web_requirements.txt    # Web应用依赖
└── README_WEB.md          # Web应用使用说明
```

## 🎨 界面预览

### 主界面
- **侧边栏**: 对话列表、设置按钮
- **聊天区域**: 现代化消息气泡
- **输入区域**: 智能文本输入框

### 模态框
- **设置模态框**: API配置、数据库设置
- **导入模态框**: 文件上传界面
- **命令确认模态框**: 安全确认机制

## 🔄 更新日志

### 2025-11-21
- ✅ 修复对话删除功能
- ✅ 修复AI回复显示问题
- ✅ 改进错误处理机制
- ✅ 优化用户界面体验

### 2025-11-20
- 🎉 初始版本发布
- ✅ 基础聊天界面
- ✅ API配置功能
- ✅ 文件上传功能

## 📞 支持

如果您在使用过程中遇到问题，请：
1. 检查本README中的故障排除部分
2. 查看控制台错误信息
3. 确保所有依赖正确安装
4. 验证API Key的有效性

---

**享受与LLM Auto Agent的智能对话体验！** 🚀
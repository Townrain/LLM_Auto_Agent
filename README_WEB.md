# LLM Auto Agent Web界面

基于Flask的现代化Web交互界面，为LLM Auto Agent提供直观易用的用户界面。

## 🚀 快速开始

### 1. 安装依赖

首先确保已安装核心依赖：
```bash
pip install -r requirements.txt
```

然后安装Web界面专用依赖：
```bash
pip install -r web_requirements.txt
```

### 2. 启动Web服务

```bash
python web_app.py
```

### 3. 访问界面

打开浏览器访问：`http://localhost:5000`

## 📋 功能特性

### ✅ 核心功能
- **用户API配置**：自行添加DeepSeek API Key
- **数据库管理**：可选择是否启用数据库功能
- **知识库导入**：支持多种文件格式上传
- **对话管理**：创建新对话、查看历史记录
- **系统命令确认**：危险命令弹窗确认机制

### 🎨 界面特色
- **现代化设计**：类似ChatGPT的聊天界面
- **响应式布局**：支持桌面端和移动端
- **实时交互**：流畅的消息发送和接收
- **状态管理**：本地存储会话和设置

## 🔧 配置说明

### API配置
1. 点击左下角"设置"按钮
2. 输入您的DeepSeek API Key
3. 选择是否启用数据库功能
4. 保存设置

### 数据库配置（可选）
如果启用数据库功能，需要配置：
- 数据库主机地址
- 数据库端口
- 数据库用户名和密码
- 数据库名称

### 知识库导入
支持的文件格式：
- 📄 TXT 文本文件
- 📄 PDF 文档
- 📄 DOC/DOCX Word文档
- 📄 Markdown 文件
- 📄 JSON 数据文件

## 🗂️ 文件结构

```
LLM_Auto_Agent/
├── web_app.py              # Flask后端服务器
├── templates/
│   └── index.html          # 主界面HTML模板
├── static/
│   ├── css/
│   │   └── style.css       # 现代化CSS样式
│   └── js/
│       └── app.js          # 前端交互逻辑
├── web_requirements.txt    # Web应用依赖
└── README_WEB.md          # 本文件
```

## 🔄 使用流程

### 首次使用
1. 启动Web服务
2. 访问 `http://localhost:5000`
3. 点击"设置"配置API Key
4. 开始对话

### 日常使用
1. 在输入框输入问题
2. 按Enter发送消息
3. 查看AI回复
4. 使用侧边栏管理对话历史

### 高级功能
- **新对话**：点击"+ 新对话"开始新的会话
- **导入知识**：点击"📚 导入知识库"上传文件
- **系统命令**：Agent请求执行命令时会弹窗确认

## 🛠️ 技术架构

### 后端技术栈
- **Flask**：轻量级Web框架
- **多线程处理**：避免Agent执行阻塞
- **RESTful API**：标准化的接口设计
- **错误处理**：完善的异常捕获机制

### 前端技术栈
- **原生JavaScript**：无框架依赖
- **现代CSS**：Flexbox布局和动画效果
- **事件驱动**：模块化的事件处理
- **本地存储**：会话状态持久化

### 集成特性
- **无缝集成**：直接使用现有Agent模块
- **配置继承**：支持.env文件和Web配置
- **功能扩展**：易于添加新工具和功能

## 🔒 安全特性

- **API Key保护**：安全的密码输入框
- **命令确认**：系统命令执行前需要用户确认
- **文件验证**：上传文件类型和大小检查
- **会话管理**：安全的本地存储机制

## 🚨 故障排除

### 常见问题

**1. 无法启动Web服务**
- 检查Python版本（需要3.7+）
- 确认所有依赖已安装
- 检查端口5000是否被占用

**2. API Key无效**
- 确认API Key正确无误
- 检查网络连接
- 验证DeepSeek账户状态

**3. 数据库连接失败**
- 确认数据库服务正在运行
- 检查连接参数是否正确
- 验证数据库用户权限

**4. 文件上传失败**
- 检查文件大小限制
- 确认文件格式支持
- 验证磁盘空间

### 调试模式

启动时添加调试参数：
```bash
python web_app.py --debug
```

## 📞 支持

如果遇到问题：
1. 查看控制台错误信息
2. 检查浏览器开发者工具
3. 参考项目主README文档
4. 提交GitHub Issue

## 📄 许可证

本项目基于MIT许可证开源。

---

**享受使用LLM Auto Agent的Web界面！** 🎉